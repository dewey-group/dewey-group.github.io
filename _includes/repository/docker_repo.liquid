{% assign repo_url = include.repository | split: '/' %}
{% if site.data.repositories.dockerhub_users contains repo_url.first %}
  {% assign show_owner = false %}
{% else %}
  {% assign show_owner = true %}
{% endif %}

{% if site.data.repositories.repo_description_lines_max %}
  {% assign max_lines = site.data.repositories.repo_description_lines_max %}
{% else %}
  {% assign max_lines = 2 %}
{% endif %}

<div class="repo p-2 text-center">
  <a href="https://hub.docker.com/repository/docker/{{ include.repository }}">
    <img
      class="repo-img-light w-100"
      alt="{{ include.repository }}"
      src="https://hub.docker.com/r/username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme={{ site.repo_theme_light }}"
    >
    <img
      class="repo-img-dark w-100"
      alt="{{ include.repository }}"
      src="https://hub.docker.com/r/username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme={{ site.repo_theme_dark }}&show_owner={{ show_owner }}&description_lines_count={{ max_lines }}"
    >
  </a>
</div>
